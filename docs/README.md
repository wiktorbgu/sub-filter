[EN](README_en.md) / [RU](README.md) / [ZH](README_zh.md)

- [sub-filter](#sub-filter)
  - [–ß—Ç–æ —É–º–µ–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞?](#—á—Ç–æ-—É–º–µ–µ—Ç-–ø—Ä–æ–≥—Ä–∞–º–º–∞)
  - [–ö–∞–∫ —Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É?](#–∫–∞–∫-—Å–æ–±—Ä–∞—Ç—å-–ø—Ä–æ–≥—Ä–∞–º–º—É)
  - [–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å?](#–∫–∞–∫-–∑–∞–ø—É—Å—Ç–∏—Ç—å)
    - [–†–µ–∂–∏–º 1: HTTP-—Å–µ—Ä–≤–µ—Ä (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)](#—Ä–µ–∂–∏–º-1-http-—Å–µ—Ä–≤–µ—Ä-–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)
      - [–°–∏–Ω—Ç–∞–∫—Å–∏—Å:](#—Å–∏–Ω—Ç–∞–∫—Å–∏—Å)
      - [–ü—Ä–∏–º–µ—Ä—ã:](#–ø—Ä–∏–º–µ—Ä—ã)
      - [–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:](#—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã)
    - [–†–µ–∂–∏–º 2: CLI (–æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)](#—Ä–µ–∂–∏–º-2-cli-–æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è-–æ–±—Ä–∞–±–æ—Ç–∫–∞)
      - [–°–∏–Ω—Ç–∞–∫—Å–∏—Å:](#—Å–∏–Ω—Ç–∞–∫—Å–∏—Å-1)
      - [–§–ª–∞–≥–∏:](#—Ñ–ª–∞–≥–∏)
      - [–ü—Ä–∏–º–µ—Ä—ã:](#–ø—Ä–∏–º–µ—Ä—ã-1)
  - [–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∞–º](#–Ω–æ–≤—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è-–ø–æ-—Å—Ç—Ä–∞–Ω–∞–º)
    - [–§–æ—Ä–º–∞—Ç —Å—Ç—Ä–∞–Ω](#—Ñ–æ—Ä–º–∞—Ç-—Å—Ç—Ä–∞–Ω)
  - [–ß—Ç–æ –æ–∑–Ω–∞—á–∞—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã?](#—á—Ç–æ-–æ–∑–Ω–∞—á–∞—é—Ç-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
  - [–§–ª–∞–≥–∏ CLI](#—Ñ–ª–∞–≥–∏-cli)
  - [–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç?](#–∫–∞–∫-–ø—Ä–æ–≤–µ—Ä–∏—Ç—å-—á—Ç–æ-–≤—Å—ë-—Ä–∞–±–æ—Ç–∞–µ—Ç)
    - [–°–µ—Ä–≤–µ—Ä](#—Å–µ—Ä–≤–µ—Ä)
    - [CLI](#cli)
  - [–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–ª–∏–µ–Ω—Ç–µ?](#–∫–∞–∫-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–≤-–∫–ª–∏–µ–Ω—Ç–µ)
  - [Docker](#docker)
    - [–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞](#–∑–∞–ø—É—Å–∫-—Å–µ—Ä–≤–µ—Ä–∞)
    - [CLI –≤ Docker](#cli-–≤-docker)

# sub-filter

–£–º–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä—ã (VLESS, VMess, Trojan, Shadowsocks, Hysteria2).  
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—É—é —Å—Å—ã–ª–∫—É –≤–Ω—É—Ç—Ä–∏ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞:

- –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–ª–æ–∫–∏—Ä—É–µ—Ç `security=none` –≤ VLESS),
- –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç—Ä–µ–±—É–µ—Ç `pbk` –ø—Ä–∏ `security=reality`),
- –Ω–∞–ª–∏—á–∏–µ ¬´–∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã—Ö —Å–ª–æ–≤¬ª –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏,
- —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º, –∏—Ö —Ñ–ª–∞–≥–∞–º –∏ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏—è–º.

–†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî —á–∏—Å—Ç–∞—è, —Ä–∞–±–æ—á–∞—è –ø–æ–¥–ø–∏—Å–∫–∞, –≥–æ—Ç–æ–≤–∞—è –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ Clash, Sing-Box, —Ä–æ—É—Ç–µ—Ä–∞—Ö –∏ –¥—Ä—É–≥–∏—Ö –∫–ª–∏–µ–Ω—Ç–∞—Ö.

> ‚ö†Ô∏è –ü—Ä–æ–≥—Ä–∞–º–º–∞ **–Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∂–∏–≤—É—á–µ—Å—Ç—å** –ø—Ä–æ–∫—Å–∏. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [xray-checker](https://github.com/kutovoys/xray-checker).

---

## –ß—Ç–æ —É–º–µ–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞?

‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ –≥–∏–±–∫–∏–º [–ø—Ä–∞–≤–∏–ª–∞–º](./FILTER_RULES.md) –∏–∑ `rules.yaml`  
‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ **–æ–¥–Ω–æ–π –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Å—Ç—Ä–∞–Ω–∞–º** (–¥–æ 20) –∏ –ø–ª–æ—Ö–∏–º —Å–ª–æ–≤–∞–º  
‚úÖ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫ —Å –≤—ã–±–æ—Ä–æ–º –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ —Å—Ä–µ–¥–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤  
‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 30 –º–∏–Ω—É—Ç)  
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ CLI-—Ä–µ–∂–∏–º–∞ —Å –≤—ã–≤–æ–¥–æ–º –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª

---

## –ö–∞–∫ —Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É?

–¢—Ä–µ–±—É–µ—Ç—Å—è Go 1.21+.

```bash
go build -o sub-filter .
```

---

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å?

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã: **HTTP-—Å–µ—Ä–≤–µ—Ä** –∏ **CLI (–∫–æ–Ω—Å–æ–ª—å–Ω—ã–π)**.

–ü—Ä–∏–º–µ—Ä [–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤](./config)

### –†–µ–∂–∏–º 1: HTTP-—Å–µ—Ä–≤–µ—Ä (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)

–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–æ—Ä—Ç–∞. –ü–æ–¥–ø–∏—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è ¬´–Ω–∞ –ª–µ—Ç—É¬ª –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ.

#### –°–∏–Ω—Ç–∞–∫—Å–∏—Å:

```bash
./sub-filter <–ø–æ—Ä—Ç> [cache_ttl] [sources_file] [bad_words_file] [uagent_file] [rules_file]
```

#### –ü—Ä–∏–º–µ—Ä—ã:

```bash
# –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ ./config/)
./sub-filter 8000

# –ü–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫
./sub-filter 8000 1800 ./config/sub.txt ./config/bad.txt ./config/uagent.txt ./config/rules.yaml
```

#### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:

| –≠–Ω–¥–ø–æ–∏–Ω—Ç  | –û–ø–∏—Å–∞–Ω–∏–µ                                     |
| --------- | -------------------------------------------- |
| `/filter` | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ–¥–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏                    |
| `/merge`  | –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–¥–ø–∏—Å–æ–∫ |

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `id` ‚Äî –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ –∏–∑ `sources_file` (–¥–ª—è `/filter`)
- `ids` ‚Äî –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é (–¥–ª—è `/merge`, –º–∞–∫—Å–∏–º—É–º 20)
- `c` ‚Äî –∫–æ–¥—ã —Å—Ç—Ä–∞–Ω –ø–æ [ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes) —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é (–º–∞–∫—Å–∏–º—É–º 20)

**–ü—Ä–∏–º–µ—Ä—ã:**

- `/filter?id=1` ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–µ—Ä–≤–æ–π –ø–æ–¥–ø–∏—Å–∫–∏
- `/filter?id=1&c=DE` ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ì–µ—Ä–º–∞–Ω–∏–∏
- `/merge?ids=1,2,3&c=US,CA` ‚Äî –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç—Ä—ë—Ö –ø–æ–¥–ø–∏—Å–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –°–®–ê –∏ –ö–∞–Ω–∞–¥–µ

---

### –†–µ–∂–∏–º 2: CLI (–æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)

–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏ –æ–¥–∏–Ω —Ä–∞–∑ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –∫–µ—à.

#### –°–∏–Ω—Ç–∞–∫—Å–∏—Å:

```bash
./sub-filter --cli [--stdout] [--config —Ñ–∞–π–ª.yaml] [--country AD,DE]
```

#### –§–ª–∞–≥–∏:

| –§–ª–∞–≥        | –û–ø–∏—Å–∞–Ω–∏–µ                                            |
| ----------- | --------------------------------------------------- |
| `--cli`     | –ó–∞–ø—É—Å–∫ –≤ CLI-—Ä–µ–∂–∏–º–µ                                 |
| `--stdout`  | –í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª                         |
| `--config`  | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏              |
| `--country` | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `--country=AR,AE`) |

#### –ü—Ä–∏–º–µ—Ä—ã:

```bash
# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∫–µ—à
./sub-filter --cli

# –í—ã–≤–µ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª
./sub-filter --cli --stdout

# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Å—Ç—Ä–∞–Ω–∞–º
./sub-filter --cli --country=NL,RU

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π –∫–æ–Ω—Ñ–∏–≥
./sub-filter --cli --config ./my-config.yaml
```

---

## –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∞–º

### –§–æ—Ä–º–∞—Ç —Å—Ç—Ä–∞–Ω

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—Ä–∞–Ω–∞—Ö —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `./config/countries.yaml` –≤ **–ø–ª–æ—Å–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ**:

```yaml
RU:
  cca3: RUS
  flag: 'üá∑üá∫'
  name: Russia
  native: '–†–æ—Å—Å–∏—è|–†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è'
```

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–∞:**

```bash
./sub-filter --cli --countries
```

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∏—â–µ—Ç –≤ **—Ñ—Ä–∞–≥–º–µ–Ω—Ç–µ —Å—Å—ã–ª–∫–∏** (`#...`) —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏:

- **–ö–æ–¥ —Å—Ç—Ä–∞–Ω—ã (CCA2)**: `RU`
- **–ö–æ–¥ (CCA3)**: `RUS`
- **–§–ª–∞–≥**: `üá∑üá∫`
- **–û–±—â–µ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ**: `Russia`
- **–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è**: `–†–æ—Å—Å–∏—è`, `–†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è`

–°—Ä–∞–≤–Ω–µ–Ω–∏–µ ‚Äî **—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ** –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **URL-–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ**.

---

## –ß—Ç–æ –æ–∑–Ω–∞—á–∞—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã?

| –ü–∞—Ä–∞–º–µ—Ç—Ä         | –û–ø–∏—Å–∞–Ω–∏–µ                                          |
| ---------------- | ------------------------------------------------- |
| `<–ø–æ—Ä—Ç>`         | –ü–æ—Ä—Ç HTTP-—Å–µ—Ä–≤–µ—Ä–∞ (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –≤ —Å–µ—Ä–≤–µ—Ä–Ω–æ–º —Ä–µ–∂–∏–º–µ) |
| `cache_ttl`      | –í—Ä–µ–º—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1800)  |
| `sources_file`   | –°–ø–∏—Å–æ–∫ URL-–ø–æ–¥–ø–∏—Å–æ–∫ (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å—Ç—Ä–æ–∫—É)         |
| `bad_words_file` | –°–ø–∏—Å–æ–∫ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã—Ö —Å–ª–æ–≤ –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤      |
| `uagent_file`    | –°–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö User-Agent (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Clash`) |
| `rules_file`     | –§–∞–π–ª –ø—Ä–∞–≤–∏–ª –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (`rules.yaml`)              |

---

## –§–ª–∞–≥–∏ CLI

| –§–ª–∞–≥          | –û–ø–∏—Å–∞–Ω–∏–µ                             |
| ------------- | ------------------------------------ |
| `--cli`       | –ó–∞–ø—É—Å–∫ –≤ CLI-—Ä–µ–∂–∏–º–µ                  |
| `--stdout`    | –í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ stdout            |
| `--config`    | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏            |
| `--country`   | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∞–º (—Ç–æ–ª—å–∫–æ –≤ CLI) |
| `--countries` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è `countries.yaml`           |

---

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç?

### –°–µ—Ä–≤–µ—Ä

```bash
curl -H "User-Agent: Clash" "http://localhost:8000/filter?id=1&c=AD"
```

### CLI

```bash
./sub-filter --cli --country=US --stdout
```

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `/tmp/sub-filter-cache` (–∏–ª–∏ –≤ —É–∫–∞–∑–∞–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é).

---

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–ª–∏–µ–Ω—Ç–µ?

–î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É –≤–∏–¥–∞:

```
http://–≤–∞—à-—Å–µ—Ä–≤–µ—Ä:8000/filter?id=1&c=NL,RU
```

> üîí –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞ reverse proxy —Å HTTPS.

---

## Docker

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
docker run -d \
  -p 8080:8080 \
  -v $(pwd)/config:/config:ro \
  -v $(pwd)/cache:/tmp/sub-filter-cache \
  ghcr.io/viktor45/sub-filter:latest \
  8080 1800
```

### CLI –≤ Docker

```bash
# –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫
docker run --rm \
  -v $(pwd)/config:/config:ro \
  -v $(pwd)/cache:/tmp/sub-filter-cache \
  ghcr.io/viktor45/sub-filter:latest \
  --cli --country=DE

# –í—ã–≤–æ–¥ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª
docker run --rm \
  -v $(pwd)/config:/config:ro \
  -v $(pwd)/cache:/tmp/sub-filter-cache \
  ghcr.io/viktor45/sub-filter:latest \
  --cli --stdout

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è countries.yaml
docker run --rm \
  -v $(pwd)/config:/config:ro \
  -v $(pwd)/cache:/tmp/sub-filter-cache \
  ghcr.io/viktor45/sub-filter:latest \
  --cli --countries
```

> üí° –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–ø–∫–∏ `./config` –∏ `./cache` —Å—É—â–µ—Å—Ç–≤—É—é—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º.
