# badwords.yaml
# Файл содержит правила для фильтрации "плохих слов" в названиях серверов и фрагментах ссылок.
# Каждое правило имеет два поля:
#   - pattern: регулярное выражение в синтаксисе Go (golang regexp)
#   - action: либо "strip" (вырезать совпадение), либо "delete" (удалить всю строку)

# ======================== STRIP ПРАВИЛА ========================
# Эти правила ВЫРЕЗАЮТ совпадение из названия, но СОХРАНЯЮТ строку в выходе
# Полезны для очистки названий от нежелательных маркеров, не отбрасывая весь сервер

# STRIP #1: Вырезание различных вариаций слова "тест" и "TEST" (strip — очистить от маркеров теста)
- pattern: '(?i)\btest(ing|ed|er)?\b'
  action: strip
  comment: "Удалит из названия слова: test, testing, tested, tester (регистронезависимо)"

# STRIP #2: Удаление номеров версий типа [v1.2.3] или (v1.2.3) из названия
- pattern: '\[?v\d+\.\d+(\.\d+)?\]?|\(v\d+\.\d+(\.\d+)?\)'
  action: strip
  comment: "Вырезает версии типа v1.2, v2.3.4, [v1.2], (v1.2.3) — оставляя остальное название"

# STRIP #3: Удаление демонстрационных маркеров типа [DEMO], (demo), <demo>
- pattern: '(?i)\[demo\]|\(demo\)|<demo>'
  action: strip
  comment: "Убирает демо-маркеры в разных форматах, очищая основное название сервера"

# STRIP #4: Удаление временных маркеров типа [TEMP], (temp), {temp}
- pattern: '(?i)\[temp(orary)?\]|\(temp(orary)?\)|\{temp(orary)?\}'
  action: strip
  comment: "Очищает временные маркеры — полезно если у вас есть временные конфигурации"

# ======================== DELETE ПРАВИЛА ========================
# Эти правила УДАЛЯЮТ ЦЕЛУЮ СТРОКУ если совпадение найдено
# Используйте для фильтрации совершенно невалидных или спам-подписок

# DELETE #1: Удаление всех строк, содержащих запрещённые домены (например, адреса для фишинга)
- pattern: '(?i)(localhost|127\.0\.0\.1|192\.168\.|10\.|172\.1[6-9]\.|172\.2[0-9]\.|172\.3[01]\.)'
  action: delete
  comment: "Удаляет строки с приватными IP-адресами (localhost, 192.168.x.x, 10.x.x.x и т.п.)"

# DELETE #2: Удаление строк со спам-маркерами типа [SPAM], [FRAUD], [MALWARE]
- pattern: '(?i)\[(spam|fraud|malware|phishing|scam)\]'
  action: delete
  comment: "Убирает серверы отмеченные как спам, мошенничество или вредонос"

# DELETE #3: Удаление строк с некорректными портами (например, портами вне диапазона 1-65535)
- pattern: ':(?:0|6553[6-9]|655[4-9]\d|65[6-9]\d{2}|6[6-9]\d{3}|[7-9]\d{4}|[1-9]\d{5,})'
  action: delete
  comment: "Удаляет ссылки с невалидными номерами портов (0, 65536, 70000 и т.п.)"

# DELETE #4: Удаление строк с заведомо неработающими протоколами или версиями
- pattern: '(?i)(protocol|proto|v0|v0\.0|deprecated|obsolete)'
  action: delete
  comment: "Убирает строки, явно помеченные как устаревшие, неработающие или с неподдерживаемым протоколом"
